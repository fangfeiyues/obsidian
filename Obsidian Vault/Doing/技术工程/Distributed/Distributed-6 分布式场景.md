
##### 库存超卖&少卖

-  **解决方案**

	一般性方案
	
		1. 数据库锁，无论是悲观锁还是乐观锁在Update的过程中都会阻塞，加大数据库压力
		2. SQL本身，update.. set a = a - 1 where a > 0 也是依赖数据库
		3. 分布式锁，性能问题
	   
	   

-  **流程图**
  
	![[Pasted image 20250510145513.png|500]]