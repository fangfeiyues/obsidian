
###  P1

-  **2020.8-2023.3  有赞社电-云分销**

	[背景] 随着分销市场玩法的不断成熟，一级分销逐渐难以满足日益复杂的多层级裂变和批发模式
	[需求] 从 0 到 1 搭建包括上下级关系、多层分佣、数据统计、推广奖励等在内的多层级分销系统
	[难点] 
	1. 分布式锁+状态机推进状态流转来保证订单创建、支付、取消等的最终一致性，解决“不分佣”的问题
	2. 用multiversion思想，构建多版本视图，保证节点变更前后的可回溯性，解决“佣金该分给谁”的问题
	3. 用DDD战略设计，构建清晰的模型边界和内聚的分层架构，解耦领域间上下文关系，避免“大煤球”开发
	[结果] 补齐多级分销的业务场景，并在次年就带来了1500w+收益；同时通过良好的架构设计支持了业务的扩张与稳定


-  **话题思路（这也没什么复杂度~）**

	1.  聊场景：分销就是 「建立分销关系 -> 然后推广商品 -> 完成下单 -> 获取佣金 -> 形成奖励」
	2.  聊挑战（场景下的挑战）：
		1.  分布式一致性：关系绑定、订单锁+状态机、等保证最终一致性
		2.  高并发：数据更新、DB锁？分布式锁？限流？
		3.  领域设计：上下文边界、分层理念、依赖倒置设计 （“开放”来切入）
	3.  聊业务（场景下的困点）：
		1.  分销员客群
		2.  云分销客群

-  **Q & A**

	Q：为什么要做领域设计？
	A：
	
	Q：举例说明上下文边界怎么划分？
	A：
	
	Q：怎么保证领域层的稳定？
	
	Q：关系版本怎么实现？会有什么问题？怎么解决
	   


### P2

-  **2023.3-至今  增值业务**
  
	[背景] 为提升公司收入和毛利，2023开始发力包括上门取件、有赞寄件、退货包运费等为代表的增值项目
	[需求] 在当前物流能力的基础上探索物流增值场景，并进一步提升履约增值takerate
	[难点] 
	1. 物流增值：通过与物流中台划分清晰的边界，搭建正逆向寄件的物流商运营与运费定价能力
	2. 履约增值：通过保单、投保、理赔等领域建设，解决退货包运费核心归因问题，并抽象复用保险核心
	[结果] 在复杂的物流中台下构建清晰的增值场景，并进一步扩展增值履约能力，收入上大幅提升50%+


###  P3

-  **2021.8-2022.4  有赞社电-分销员稳定性**

	[背景] 分销员是有赞商城TOP3插件，其稳定性不言而喻，但经过6年+的发展内部系统千疮百孔，急需治理
	[需求] 根解线上的高频资损问题、缓解每周50+线上jira、规避高流量下系统的不稳定性、合理规划架构演变
	[难点] 
	1. 高流量治理：分布式限流 + Redis有序集合，自动隔离窗口期的高流量消息到vip通道避免影响正常业务
	2. 性能优化：通过优化SQL索引慢询、Hot Key高频更新、CPU飙升等问题解决数据库和机器压力
	3. 资损防控：治理因分布式导致的最终不一致问题，并严格要求离线对账、实时监测等防控措施
	[结果] 潜在资损问题修复80%以上、每周线上问题下降30%、线上错误日志及告警下降50%以上，保障业务平稳发展




